<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

        <!-- Delete the rule and recreate it inactive-->
        <delete model="ir.rule" id="analytic.analytic_line_comp_rule"/>
        <record id="analytic.analytic_line_comp_rule" model="ir.rule">
            <field name="name">Analytic line multi company rule</field>
            <field name="model_id" ref="model_account_analytic_line"/>
            <field eval="True" name="global"/>
            <field name="domain_force">['|',('company_id','=',False),('company_id','child_of',[user.company_id.id])]</field>
            <field name="active" eval="False"/>
        </record>

        <delete id="analytic.analytic_comp_rule" model="ir.rule"/>
        <record id="analytic.analytic_comp_rule" model="ir.rule">
            <field name="name">Analytic multi company rule</field>
            <field name="model_id" ref="analytic.model_account_analytic_account"/>
            <field name="groups"
                   eval="[(4, ref('base.group_user'))]"/>
            <field name="domain_force">['|',
                                            ('company_id', '=', False),
                                            ('company_id', 'child_of', [user.company_id.id]),
                                        ]
            </field>
        </record>

        <record id="analytic.analytic_comp_rule_cross_company" model="ir.rule">
            <field name="name">Analytic multi company rule cross company</field>
            <field name="model_id" ref="analytic.model_account_analytic_account"/>
            <field eval="True" name="global"/>
            <field name="groups"
                   eval="[(4, ref('account_analytic_distribution_cross_company.analytic_crosscompany'))]"/>
            <field name="domain_force">[(1, '=', 1)]</field>
        </record>

    </data>
</openerp>
